<% layout('layouts/boilerPlate') %>
<article class="resume active" data-page="resume">
    <section class="timeline">
        <div class="title-wrapper">
            <div class="icon-box">
                <ion-icon name="school-outline"></ion-icon>
            </div>
            <h3 class="h3">Education</h3>
        </div>
        <ol class="timeline-list">
            <% education.forEach(function(edu) { %>
            <li class="timeline-item">
                <h4 class="h4 timeline-item-title"><%= edu.institution %></h4>

                <span>
                    <%= new Date(edu.startDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }) %> —
                    <%= new Date(edu.endDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }) %>
                </span>

                <p class="timeline-text">
                    <%= edu.description %>
                </p>
            </li>
            <% }); %>
        </ol>
    </section>

    <section class="timeline">
        <div class="title-wrapper">
            <div class="icon-box">
                <ion-icon name="book-outline"></ion-icon>
            </div>
            <h3 class="h3">Experience</h3>
        </div>
        <ol class="timeline-list">
            <% experience.forEach(function(exp) { %>
            <li class="timeline-item">
                <h4 class="h4 timeline-item-title">
                    <%= exp.position %> -
                     <span class="text-secondary">
                        <%= exp.company %>
                    </span>
                </h4>
                <span>
                    <%= new Date(exp.startDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }) %> —
                    <%= new Date(exp.endDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }) %>
                </span>
                <ol>
                    <% exp.responsibilities.forEach(function(resp) { %>
                        <li><p class="timeline-text"> <%= resp %> </p></li>
                    <% }); %>
                </ol>
            </li>
            <% }); %>
        </ol>
    </section>

    <section class="skill">
        <h3 class="h3 skills-title">Skills</h3>
        <ul class="skills-list content-card">
            <% skills.forEach(function(skl) { %>
            <li class="skills-item">
                <div class="title-wrapper">
                    <h5 class="h5"><%= skl.name %></h5>
                </div>
                <div class="tools">
                    <% skl.tools.forEach(function(tool) { %>
                        <% tool.split(', ').forEach(function(t) { %>
                            <span><%= t %></span>
                        <% }); %>
                    <% }); %>
                </div>
                <div class="skill-progress-bg">
                    <div class="skill-progress-fill"></div>
                </div>
            </li>
            <% }); %>
        </ul>
    </section>
    <header>
        <h2 class="h2 article-title">
            Resume
        </h2>
        <a href="/resume/download" class="form-btn" style="margin-left: auto; display: inline-flex; align-items: center; gap: 0.4rem;">
            <ion-icon name="download-outline"></ion-icon>
            <span>Download Resume</span>
        </a>
    </header>
</article>
